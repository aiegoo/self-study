# 리눅스 마스터 : PART01 리눅스 일반

- 2급 실기

- 참고자료 : 이기적 기본서 리눅스마스터 2급 (권소라 저)

## CHAPTER01. 리눅스의 이해

<hr>

### 리눅스의 개요

✔ 리눅스의 특징

1. 리눅스는 오픈 소스 운영체제이다.
2. 다중 스레드를 지원하는 네트워크 운영체제이다.
3. 여러 종류의 파일 시스템을 지원하는 운영체제이다.
4. 리눅스는 유닉스와 완벽하게 호환 가능하다.
5. 리눅스는 POSIX 규격을 따르고 있다.

✔ 리눅스 디렉토리 종류와 특징

```
/ : 최상위 디렉토리

/proc : 가상 파일 시스템

/lib : 동적 공유 라이브러리 저장

/dev : 하드디스크, 프린터, 입출력 장치 등과 같은 장치들을 파일화하여 관리

/etc : 시스템 환경 설정 파일과 부팅 관련 스크립트 파일들이 저장되어 있는 디렉토리

/usr : 시스템이 아닌 일반 사용자들이 사용하는 디렉토리, 공유 가능한 프로그램들이 설치되며 네트워크를 이용해서 여러 개의 시스템을 연결 할 경우 이 디렉토리를 공유해서 설치된 프로그램들을 활용할 수 있다. (/usr 디렉토리는 읽기 전용으로 마운트 되어야 하며, 가변 자료들은 /var 디렉토리로 심볼릭 링크로 사용하게 된다.)

/var : 시스템에서 사용되는 가변적인 파일(로그파일, 스풀링, 캐싱 등)들을 저장하는 디렉토리

/lost+found : 파일시스템의 이상 유무를 진단하고 복구하는 fsck에 의해서 사용되는 디렉토리
```

✔ 리눅스 배포판

리눅스 배포판은 리눅스 전체 시스템을 구성하는 소프트웨어 패키지 형태로 대표적인 배포판은 슬랙위어, 데비안, 레드햇 등이 있다.

- 페도라, 레드햇, openSUSE, 노벨, 우분투는 캐노니컬 등의 기업이 관리하는 배포판

- 데비안, 젠투는 리눅스 커뮤니티 기반의 배포판

✔ 리눅스 배포판 종류

1. 슬랙웨어 리눅스 : 가장 먼저 대중화된 배포판, 구조가 간결하고 파악하기 쉬워 유닉스 학습에 리눅스를 사용하고 싶어하는 사용자들에게 적합

2. 데비안 : 데비안 프로젝트에서 만들어 배포하는 공개 운영체재로 GNU의 공식적인 후원을 받고 있는 유일한 배포판

3. 우분투 : 데비안 GNU/리눅스에 기초한 운영체제, 고유한 데스크탑 환경인 유니티를 사용하는 리눅스 배포판이다. 6개월 마다 새 버전이 하나씩 배포, 사용자 편의성에 초점을 맞추고 있다.

4. 레드햇 : 미국의 레드햇사가 개발하던 리눅스 배포판으로 현재는 레드햇사가 유료로 기술지원을 하는 기업용 레드햇 엔터프라이즈 리눅스(RHEL)와 페도라 프로젝트에서 개발하고 있는 페도라로 나뉘어 있다. 레드햇은 기업용 유료 리눅스의 배포판인 RHEL의 개발을 지원한다.

5. RHEL : 레드햇이 개발하여 판매하고 있는 상용 리눅스 배포판이다. 
- 18~24개월에 한 번씩 새로운 버전이 공개되며 라이선스는 별도로 판매하지 않는다.
- 서브 스크립션의 형태로 요금을 지불하는 방식으로 계약한다.
- 기술 지원은 버전마다 출시 시점으로부터 7년 동안 제공한다.
- 계약기간 중에는 추가 비용 없이 업그레이드 및 다운그레이드를 자유롭게 실시할 수 있다.

6. 페도라 
- 리눅스 커널에 기반한 운영체제와 레드햇의 후원과 개발 공동체 지원 아래 개발된 배포판으로 6개월 간격으로 새로운 버전이 배포되며 지원기간은 각 버전마다 13개월이다. 
- 일반적인 목적을 가진 RPM 기반의 소프트웨어가 결합된 운영체제이다.

7. CentOS
- 업스트림 소스인 레드햇 엔터프라이즈 리눅스와 완벽하게 호환되는 무료 기업용 컴퓨팅 운영체제이다.
- 자체 커뮤니티에 의해 관리되고 있다.

8. 수세 : 독일에서 출시된 배포판으로 유럽에서 인기를 누리고 있으며, 풍부한 기능과 안정성, 보안 기능을 포함하고 있다. 정기적인 배포판이 존재한다기보다는, 언제든지 새로운 버전이 출시되면 업데이트가 가능한 롤링 릴리즈 방식을 사용한다.


### 리눅스의 역사

```
1969년: 켄 톰슨이 초기 형태의 UNIX를 개발(어셈블리 언어)

1971년 : 데니스 리치가 C언어를 개발함으로써, 어셈블리 언어로 되어 있던 UNIX가 C언어로 재작성

1980년대 초중반 : 리처드 스톨먼이 소스를 공개하지 못하도록 하는 분위기와 기술을 상업화하려는 조류에 대한 반감으로 GNU(GNU is Not Unix) 프로젝트 시작, 1985년 FSF(Free Software Foundation)이라는 비영리 재단 단체 설립 후 'GNU선언문' 발표

1987년 : 엔드루 타넨바움은 자유/오픈 소스 소프트웨어로 교육용 유닉스 계열 운영체제인, 미닉스(MINIX)를 개발

1990년대 초중반 : 핀란드 헬싱키 대학의 리누스 토발즈가 미닉스의 커널 소스를 고쳐 GNU 시스템에 적합한 커널을 개발, 스톨먼과 FSF에서 GNU 시스템의 커널로 리눅스를 채택

1994년 : 리눅스 커널 버전 1.0 발표

1996년 : 리눅스 커널 버전 2.0 발표
```

### 리눅스 라이선스

```
GPL : FSF(Free Software Foundation)에서 만든 Free 소프트웨어 라이선스로 내부적 목적 사용시 소스코드 공개 안 해도 되지만, 어떤 형태(유료 or 무료)로든 외부에 공표.배포할 때에는 전체 소스코드를 공개해야함.

LGPL : GPL 완화 버전으로 LGPL이 적용된 라이브러리를 이용하여 개발 시 프로그램 소스코드 공개 안 해도 된다. LGPL 코드를 단순히 이용하는 것이 아니라 이를 수정한 또는 이로부터 파생된 라이브러리를 개발하여 배포하는 경우에는 전체 코드를 공개해야 한다.

BSD 라이선스 : 소스코드 공개 의무 X, 상용(상업적) 소프트웨어에서도 무제한 사용 가능한 라이선스이다.
- 해당 소프트웨어 아무나 개작 가능, 수정한 것 제한 없이 배포 가능
- 수정본의 재배포는 의무 사항 X, 상용 소프트웨어에서도 사용 가능

아파치(Apache) 라이선스 : 아파치 2.0 라이선스는 누구나 해당 소프트웨어에서 파생된 프로그램을 제작할 수 있으며, 저작권을 양도, 전송할 수 있는 라이선스 규정이다.
- 누구든 자유롭게 아파치 소프트웨어를 다운로드 받아 부분 또는 전체를 개인적 혹은 상업적 목적으로 이용할 수 있다.

MIT 라이선스 : 해당 소프트웨어는 누구나 개작할 수 있고, 수정본의 재배포 시에 소스코드 비공개가 가능하다.

MPL : 수정한 2차 소스코드는 MPL로 공개하고 원저작자에게 수정한 부분에 대해 알려야 하지만, 실행 파일은 독점 라이선스로 배포할 수 있다. 사용한 MPL 소프트웨어와 수정한 MPL 소프트웨어에 대한 공개 의무만 가지며, 별도의 소스코드와 실행 파일은 독점 라이선스를 가질 수 있다.
```

## CHAPTER02. 리눅스의 설치

<hr>

### 기본 설치 및 유형

- CentOS 리눅스 커널 예시 및 설명

```
3. 10 . 17. 1

# 3 : 주 버전
# 10 : 부버전, 짝수면 안정 커널, 홀수면 개발 커널
# 17 : 패치 레벨 : 커널의 해당 버전에 대한 수정이 있을 경우 증가
# 1 : 안전 버전에서만 사용
```

###  파티션

하나의 물리적 디스크를 여러 개의 논리적인 디스크로 분할 하는 것


✔ 파티션 특징

- 파티션마다 독립적인 파일 시스템이 운영되기 때문에 파일점검 시간이 줄어들어 부팅 시간을 단축시킬 수 있다.
- 특정 파티션의 파일 시스템이 손상되더라도 다른 파티션에 영향을 주지 않기 때문에 높은 안정성을 보장한다.
- 필요한 파티션만 포맷할 수 있기 때문에 백업과 업그레이드가 편리하다.
- 파티션은 주 파티션, 확장 파티션, 논리 파티션, 스왑 파티션으로 구분된다.

✔ 디스크와 장치명 예시

```
/dev/hd a 3

# hd : 하드디스크 유형 지정 sd=SCSI(Small Computer System Interface) 또는 USB 방식 디스크, hd=IDE 또는 ATA 방식 디스크

# a : 한 케이블에 묶인 하드디스크의 우선 순위를 정함(첫 번째 하드디스크 a, 두 번째 하드디스크 b), 마스터(master) 또는 슬레이브(slave)로 설정

# 3 : 파티션 번호로 1~4번은 primary 또는 extended, 5번부터 logical 파티션
```

- 다른 예시

```
/dev/fd0 
# 첫 번째 플로피 디스크

/dev/fd1
# 두 번째 플로피 디스크

/dev/sda
# 첫 번째 SCSI 디스크

/dev/sdb
# 두 번째 SCSI 디스크

/dev/scd0 
# 혹은 /dev/sr0
# SCSI CD-ROM

/dev/hda
#  IDE 디스크의 Primary Master

/dev/hdb
# IDE 디스크의 Primary Slave

/dev/hdc
# IDE 디스크의 Secondary Master

/dev/hdd
# IDE 디스크의 Secondary Slave
```

✔ LVM(Logical Volumne Manager) 
- 여러 개의 하드디스크를 합쳐서 사용하는 기술로 한 개의 파일 시스템을 사용한다. 
- 서버를 운영하면서 대용량의 별도 저장 공간이 필요할 때 활용한다.
- 다수의 리스크를 묶어서 사용함으로써 파티션의 크기를 줄이거나 늘릴 수 있다.

✔ RAID(Redundant Array of Independent Disks)

- 여러 개의 물리적 디스크를 하나의 논리적 디스크로 인식하여 작동하게 하는 기술
- 여러 개의 하드디스크에 일부 중복된 데이터를 나눠서 저장하는 기술
- 데이터를 저장하는 다양한 방법이 존재하며 이 방법들을 레벨이라 한다.
- 레벨에 따라 저장 장치의 신뢰성을 높이거나 전체적인 성능을 향상시키는 등 다양한 목적을 만족시킨다.

```
RAID 0 : 연속된 데이터를 여러 디스크에 나눠 저장, 입출력 작업이 모든 디스크에 동시에 진행(저장과 읽기 속도 빠르다 but 하나의 디스크라도 고장나면 전체 시스템 사용 불가)

RAID 1 : 미러링 방식으로 하나의 디스크에 데이터를 저장하면 다른 디스크에 동일한 내용이 백업되어 저장, 결함허용을 제공하지만 공간 효율성은 떨어짐

RAID 2 : 스트라이핑 저장방식으로 기록용 디스크와 데이터 복구용 디스크를 별도로 제공, 디스크의 사용 효율성이 낮음

RAID 3 : 스트라이핑 저장방식, 오류 거물을 위해 패리티 방식을 이용, 데이터 복구는 패리티 저장 디스크에 기록된 정보의 XOR을 계산하여 수행, 대형 레코드가 사용되는 단일 사용자 시스템에 적합

RAID 4 : RAID 3과 유사하나 전용 패리티 디스크 사용, RAID 3은 Byte 단위로 데이터를 저장하는 반면, RAID 4는 Block(섹터) 단위로 저장

**RAID 5 : 스트라이핑 저장 방식, 디스크마다 패리티 정보를 가지고 있어 패리티 디스크의 병목현상을 줄이는 것이 가능해 실무에서 많이 사용, 디스크 섹터 단위로 저장, 쓰기 작업이 많지 않은 다중 사용자 시스템에 적합**

RAID 6 : 기본적으로 RAID 5를 확장한 것, 제 2 패리티를 두는 듀얼 패리티를 사용함으로써 더 나은 무정지성을 갖게 함
```

- 이 외에도 각 레벨의 장점을 합친 RAID 0 + 1, RAID 1 + 0이 있다.

✔ 파티션 분할 예시

```
cd /dev
ls sd*
fdisk sda2
# fdisk : 파티션 테이블을 관리하는 명령어로 리눅스의 디스크 파티션을 생성, 수정, 삭제 할 수 있음

l
# a : 파티션 지정
# l : 파티션 목록 확인
# n : 새로운 파티션 추가
# t : 파티션 종류를 변경
# w : 파티션 정보를 저장
# p : 파티션 정보 확인
# q : 작업을 종료

q
```

###  부트 매니저

✔ 부트로더 

- 부트스트랩 로더의 준말로 컴퓨터를 사용자가 사용할 수 있도록 디스크나 플래시에 저장된 운영체제를 읽어 주기억장치에 적재해주는 프로그램이다.

- 부트로더는 부트 매니저라고도 부르며 하드디스크의 첫 번째 섹터인 MBR(Master Boot Record)에 위치한다. MBR은 부트 매니저 프로그램과 파티션 정보를 저장한다.

- 주 파티션마다 부트 섹터가 할당된다.

- 분할된 주 파티션 들은 자신의 부트 레코드를 MBR에 기록하여 실행된다.

- 한 컴퓨터에 다수의 운영체제가 설치되어 있을 경우, 작업 운영체제를 선택하여 부팅할 수 있게 한다.

- x86 아키텍처에서 많이 사용되는 부트로더는 LILO(LInux LOader)와 GRUB(GRand Unified Bootloader)이다.

- LILO는 리눅스 운영체제에 한정되어 사용되는 반면, GRUB는 리눅스 운영체제 외에도 다른 운영체제에서 사용가능하다.

✔ GRUB

LILO의 단점을 보완하고, LILO에 비해 설정 및 사용이 편리하며, 다른 운영체제와 멀티부팅 할 수 있다.

✔  GRUB 1 vs GRUB 2

- GRUB 1의 경우, 첫 번째 파티션이 0부터 시작, GRUB 2의 경우, 첫 번째 파티션이 1에서 시작

- GRUB 1의 경우 root(hd0, 0,0)으로 파티션 지정, kernel/boot/vmlinuz로 부팅하면서 메모리에 위치하는 리눅스 커널에 전달한 인수 지정

- GRUB 2의 경우, /etc/default/grub과 /etc/grub,d를 통해 grub 환경을 설정

✔ 런레벨

리눅스 부팅시 작동하는 서비스들이 있다. 런레벨에 따라 작동하는 서비스를 조정가능하다. 런레벨은 0에서부터 6까지 총 7가지이다.


런레벨 : 기능
```
0 : 시스템 종료(shutdown), 명령어 halt 또는 init 0과 동일

1 : 단일 사용자 모드

2 : 네트워크가 없는 다중 사용자 모드

3 : 텍스트 모드(CUI)에 의한 다중 사용자 모드

4 : 미사용

5 : 그래픽 모드(GUI)에 의한 다중 사용자 모드

6 : 시스템 재시작(재부팅), 명령어 reboot 또는 init 6과 동일
```